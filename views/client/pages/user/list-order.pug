extends ../../layouts/default.pug
include ../../mixins/box-head
include ../../mixins/product-layout
include ../../mixins/alert


block main
    +alert-success(3000)
    +alert-error(3000)

    .container.mb-3
        .row 
            .col-12 
                +box-head("Lịch sử mua hàng")

        if(records.length > 0)
            .row   
                .col-12 
                    h4(class="mb-2") Danh sách đơn hàng đã mua
                    table(class="table table-bordered order")
                        thead 
                            tr 
                                th STT 
                                th Ảnh
                                th Tên
                                th Giá #{"(vnd)"}
                                th Số lượng
                                th Tổng tiền #{"(vnd)"}
                                th Trạng thái
                        tbody
                            if(records.length > 0)
                                each item, index in records
                                    tr
                                        td #{index + 1}
                                        td 
                                            img(src=item.thumbnail, alt="sp1" width="80px")
                                        td 
                                            span #{item.title}
                                        td #{item.price}
                                        td #{item.quantity}
                                        td #{item.totalPrice} 
                                        td 
                                            if(item.status == 'pending')
                                                span Chưa thanh toán
                                            if(item.status == 'paid')
                                                span Đã thanh toán
                                            if(item.status == 'failed')
                                                span Thanh toán thất bại